<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SoilInterface · LandHydrology.jl</title><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">LandHydrology.jl</a></span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">APIs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox" checked/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">LandHydrology</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../LandHydrology/">Models</a></li><li><a class="tocitem" href="../SoilWaterParameterizations/">Soil Water Parameterizations</a></li><li><a class="tocitem" href="../SoilHeatParameterizations/">Soil Heat Parameterizations</a></li><li class="is-active"><a class="tocitem" href>SoilInterface</a><ul class="internal"><li><a class="tocitem" href="#Parameters"><span>Parameters</span></a></li><li><a class="tocitem" href="#Models"><span>Models</span></a></li><li><a class="tocitem" href="#Right-hand-side"><span>Right hand side</span></a></li><li><a class="tocitem" href="#Boundary-Conditions"><span>Boundary Conditions</span></a></li><li><a class="tocitem" href="#Initial-Conditions"><span>Initial Conditions</span></a></li></ul></li></ul></li></ul></li><li><a class="tocitem" href="../../../Contributing/">Contribution guide</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">APIs</a></li><li><a class="is-disabled">LandHydrology</a></li><li class="is-active"><a href>SoilInterface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>SoilInterface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/LandHydrology.jl/blob/master/docs/src/APIs/SoilModel/SoilInterface.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Soil-Interface"><a class="docs-heading-anchor" href="#Soil-Interface">Soil Interface</a><a id="Soil-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Soil-Interface" title="Permalink"></a></h1><h2 id="Parameters"><a class="docs-heading-anchor" href="#Parameters">Parameters</a><a id="Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.SoilParams" href="#LandHydrology.SoilInterface.SoilParams"><code>LandHydrology.SoilInterface.SoilParams</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct SoilParams{FT} &lt;: ParameterStructure{FT}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/parameters.jl#L5-L7">source</a></section></article><h2 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.SoilModel" href="#LandHydrology.SoilInterface.SoilModel"><code>LandHydrology.SoilInterface.SoilModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SoilModel{FT, domain, em &lt;: AbstractSoilModel, hm &lt;: AbstractSoilModel, bc, A,B}</code></pre><p>The model type for the soil model.</p><p><strong>Fields</strong></p><ul><li><p><code>domain</code></p></li><li><p><code>energy_model</code></p><p>Soil energy model - prescribed or dynamics</p></li><li><p><code>hydrology_model</code></p><p>Soil hydrology model - prescribed or dynamic</p></li><li><p><code>boundary_conditions</code></p><p>Boundary conditions tuple</p></li><li><p><code>soil_param_set</code></p><p>Soil parameters</p></li><li><p><code>earth_param_set</code></p><p>Earth parameter set</p></li><li><p><code>name</code></p><p>name</p></li><li><p><code>variables</code></p><p>variables</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/models.jl#L85-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.SoilHydrologyModel" href="#LandHydrology.SoilInterface.SoilHydrologyModel"><code>LandHydrology.SoilInterface.SoilHydrologyModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SoilHydrologyModel</code></pre><p>The model type to be used when the user wants to simulate the flow of water in soil by solving Richards equation.</p><p><strong>Fields</strong></p><ul><li><code>hydraulic_model</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/models.jl#L18-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.SoilEnergyModel" href="#LandHydrology.SoilInterface.SoilEnergyModel"><code>LandHydrology.SoilInterface.SoilEnergyModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SoilEnergyModel</code></pre><p>The model type to be used when the user wants to simulate heat transfer in soil by solving the heat partial differential equation.</p><p><strong>Fields</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/models.jl#L8-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.PrescribedTemperatureModel" href="#LandHydrology.SoilInterface.PrescribedTemperatureModel"><code>LandHydrology.SoilInterface.PrescribedTemperatureModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Base.@kwdef struct PrescribedTemperatureModel &lt;: AbstractSoilComponentModel
    &quot;Profile of (z,t) for temperature&quot;
     T_profile::Function = (z,t) -&gt; eltype(z)(288)
end</code></pre><p>The model type to be used when the user does not wish to solve the heat partial differential equation, but instead wishes to prescibe a temperature profile in the soil.</p><p>This is useful for situations where Richards Equation alone is sufficient. Because the hydraulic conductivity can be a function of temperature, a temperature profile can be supplied in order to simulate that. The default is 288K across the domain, the reference temperature for the viscosity effect.</p><p><strong>Fields</strong></p><ul><li><p><code>T_profile</code></p><p>Profile of (z,t) for temperature</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/models.jl#L33-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.PrescribedHydrologyModel" href="#LandHydrology.SoilInterface.PrescribedHydrologyModel"><code>LandHydrology.SoilInterface.PrescribedHydrologyModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Base.@kwdef struct PrescribedHydrologyModel &lt;: AbstractSoilComponentModel
    &quot;Profile of (z,t) for ϑ_l&quot;
    ϑ_l_profile::Function = (z,t) -&gt; eltype(z)(0.0)
    &quot;Profile of (z,t) for θ_i&quot;
    θ_i_profile::::Function = (z,t) -&gt; eltype(z)(0.0)
end</code></pre><p>The model type to be used when the user does not wish to solve the Richards equation, but instead wishes to prescibe a water content profile in the soil.</p><p>This is useful for situations where only the heat equation is to be solved. Because the thermal conductivity and heat capacities depend on water content, a water profile must be defined to solve the heat equation. The default for both ice and liquid water content is zero, which applies for totally dry soil. </p><p><strong>Fields</strong></p><ul><li><p><code>ϑ_l_profile</code></p><p>Profile of (z,t) for ϑ_l</p></li><li><p><code>θ_i_profile</code></p><p>Profile of (z,t) for θ_i</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/models.jl#L57-L75">source</a></section></article><h2 id="Right-hand-side"><a class="docs-heading-anchor" href="#Right-hand-side">Right hand side</a><a id="Right-hand-side-1"></a><a class="docs-heading-anchor-permalink" href="#Right-hand-side" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.make_rhs" href="#LandHydrology.SoilInterface.make_rhs"><code>LandHydrology.SoilInterface.make_rhs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_rhs(model::SoilModel)</code></pre><p>A function which takes a model::AbstractModel as argument,  and returns function which computes the rhs of a set of ordinary differential equations corresponding to that model.</p><p>Currently, the arguments of the returned rhs function are configured for use with OrdinaryDiffEq.jl. For the soil model, the rhs function depends on the type of the  components of the model (the energy and hydrology models), as well as  whether additional sources are included.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/right_hand_side.jl#L19-L32">source</a></section></article><h2 id="Boundary-Conditions"><a class="docs-heading-anchor" href="#Boundary-Conditions">Boundary Conditions</a><a id="Boundary-Conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Boundary-Conditions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.VerticalFlux" href="#LandHydrology.SoilInterface.VerticalFlux"><code>LandHydrology.SoilInterface.VerticalFlux</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VerticalFlux{f &lt;: AbstractFloat} &lt;: AbstractBC</code></pre><p>The BC type to be used for prescribed vertical boundary fluxes. The flux is assumed to be of the form</p><p><span>$F = f ẑ$</span></p><p>where f is the value supplied by the user (currently a constant).</p><p><strong>Fields</strong></p><ul><li><p><code>flux</code></p><p>Scalar flux; positive = aligned with ẑ</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/boundary_conditions.jl#L13-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.NoBC" href="#LandHydrology.SoilInterface.NoBC"><code>LandHydrology.SoilInterface.NoBC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NoBC &lt;: AbstractBC</code></pre><p>The BC type to be used when equations do not require boundary conditions, e.g. for Prescribed Models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/boundary_conditions.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.SoilDomainBC" href="#LandHydrology.SoilInterface.SoilDomainBC"><code>LandHydrology.SoilInterface.SoilDomainBC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct SoilDomainBC{D, TBC, BBC}</code></pre><p>A container holding the SoilComponentBC for each boundary face.</p><p>Each field value should be of type SoilComponentBC. This doesn&#39;t do  what we want. Ideally the fields would change depending on the domain -  e.g. for a Column, they are top and bottom, but for a 3D domain, they might be top, bottom, xleft, xright, yleft, yright.</p><p><strong>Fields</strong></p><ul><li><p><code>top</code></p><p>SoilComponentBC for the top of the domain</p></li><li><p><code>bottom</code></p><p>SoilComponentBC for the bottom of the domain</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/boundary_conditions.jl#L81-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.SoilComponentBC" href="#LandHydrology.SoilInterface.SoilComponentBC"><code>LandHydrology.SoilInterface.SoilComponentBC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct SoilComponentBC{ebc &lt;: AbstractBC, hbc &lt;: AbstractBC}</code></pre><p>A container for holding the boundary conditions for the components of the soil model.</p><p>The values must be of type AbstractBC; the two components are energy and hydrology. Each boundary will have a SoilComponentBC object associated with it.</p><p><strong>Fields</strong></p><ul><li><p><code>energy</code></p><p>BC for the heat equation</p></li><li><p><code>hydrology</code></p><p>BC for ϑ_l</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/boundary_conditions.jl#L62-L72">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>compute_vertical_flux</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Initial-Conditions"><a class="docs-heading-anchor" href="#Initial-Conditions">Initial Conditions</a><a id="Initial-Conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Initial-Conditions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LandHydrology.SoilInterface.set_initial_state" href="#LandHydrology.SoilInterface.set_initial_state"><code>LandHydrology.SoilInterface.set_initial_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_initial_state(model::SoilModel, f::Function, t0::Real)</code></pre><p>A function which sets the initial state for the soil model, given a function of space (and time) <code>f</code>, as well as the initial time <code>t0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/LandHydrology.jl/blob/a8542f0511fea63c8c9af6a18db178db1ad03a9c/src/SoilModel/initial_conditions.jl#L3-L8">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../SoilHeatParameterizations/">« Soil Heat Parameterizations</a><a class="docs-footer-nextpage" href="../../../Contributing/">Contribution guide »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.6 on <span class="colophon-date" title="Wednesday 22 September 2021 20:58">Wednesday 22 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
